<!doctype html>
<html class="no-js" lang="ja">
    
    <head>
    	<meta charset="utf-8">
    	<!-- If you delete this meta tag World War Z will become reality -->
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<title>Foundation 5</title>

    	<!-- If you are using the CSS version, only link these 2 files, you may add app.css to use for your overrides if yoi like -->
    	<link rel="stylesheet" href="css/normalize.css">   	
    	<link rel="stylesheet" href="css/foundation.css">

  		<!-- If you are using the gem version, you need this only -->
  		<link rel="stylesheet" type="text/css" href="css/test.css">

    
    </head>

    <body>

    <!-- navigation -->
	<ul class="button-group round even-6">
  		<li><a href="#" class="button dropdown" data-dropdown="drop1">Button 1</a></li>
  		<li><a href="#" class="button">Button 2</a></li>
  		<li><a href="#" class="button">Button 3</a></li>
  		<li><a href="#" class="button">Button 4</a></li>
  		<li><a href="#" class="button">Button 5</a></li>
  		<li><a href="#" class="button">Button 6</a></li>
	</ul>

    <ul id="drop1" data-dropdown-content class="f-dropdown">
        <li><a href="#">This is a link</a></li>
        <li><a href="#">This is another</a></li>
        <li><a href="#">Yet another</a></li>
    </ul>
     
    <!-- pie_chart -->  

	<div class="canvas-area">
 		<div class="canvas-holder">
        	<canvas id="pieArea1" height="200" width="200"></canvas>
        </div>

		<div class="canvas-holder">
			<canvas id="pieArea2" height="200" width="200"></canvas>
		</div>

		<div class="canvas-holder">
			<canvas id="pieArea3" height="200" width="200"></canvas>
		</div>           

		<div class="canvas-holder">
			<canvas id="pieArea4" height="200" width="200"></canvas>
		</div>

		<div class="canvas-holder">
			<canvas id="pieArea5" height="200" width="200"></canvas>
		</div>

	<!-- doughnut_chart -->  	

		<div class="canvas-holder">
			<canvas id="doughnutChart" height="200" width="200"></canvas>
        </div>

    <!-- line_chart -->  
    	<div class="canvas-holder">
    		<canvas id="lineChart" height="300" width="400"></canvas>
    	</div>

    <!-- bar_chart -->  
    	<div class="canvas-holder">
    		<canvas id="barChart" height="300" width="400"></canvas>
    	</div>


	<!-- radar_chart --> 
		<div class="canvas-holder">
    		<canvas id="raderChart" height="300" width="400"></canvas>
    	</div>

    <!-- polararea_chart --> 
    	<div class="canvas-holder">
    		<canvas id="polarareaChart" height="300" width="400"></canvas>
    	</div>


	</div>
        <script src="js/vendor/modernizr.js"></script>
        <script src="js/Chart.js"></script>
        <script src="js/vendor/jquery.js"></script>
        <script src="js/foundation.min.js"></script>
        <script>
            $(document).foundation();
        </script>

	<script>

	/* chart */
	$(function () { 
		setInterval("change()",1000)
	});

	var state = 0;
	var	renew = 0;
	var	draw = function (opt) {

			/* pie_chart */
			$.getJSON("data/piedata" + (state + 1) + ".json" , function(data) {   


				len = data.length;
				for(var i = 0; i < len; i++) {
					myPie = new Chart(
						document.getElementById("pieArea" + (i + 1)).getContext("2d")).Pie(data[i], opt);
				};  
			});

			/* doughnut_chart */
			$.getJSON("data/doughnutdata" + (state + 1) + ".json" , function(data){

				var ctx = document.getElementById("doughnutChart").getContext("2d");
				var myDoughnutChart = new Chart(ctx).Doughnut(data, opt);


			});

			/* line_chart */
			$.getJSON("data/linedata" + (state + 1) + ".json" , function(data){

				var ctx = document.getElementById("lineChart").getContext("2d");
				var myLineChart = new Chart(ctx).Line(data, opt);

			});

			/* Bar_chart */
			$.getJSON("data/bardata" + (state + 1) + ".json" , function(data){

				var ctx = document.getElementById("barChart").getContext("2d");
				var myBarChart = new Chart(ctx).Bar(data, opt);

			});

			/* radar_chart */
			$.getJSON("data/radardata" + (state + 1) + ".json" , function(data){

				var ctx = document.getElementById("raderChart").getContext("2d");
				var myRadarChart = new Chart(ctx).Radar(data, opt);

			});

			/* polararea_chart */
			$.getJSON("data/polarareadata" + (state + 1) + ".json" , function(data){

				var ctx = document.getElementById("polarareaChart").getContext("2d");
				new Chart(ctx).PolarArea(data, opt);

			});

		};


	function change(){

		if(state === 1){
			state = 0;
		}else{
			state = 1;
		}

		if(renew === 0){
			draw({animation: true});
			renew = 1;
		}else if(renew === 1){
			draw({animation: false});
			renew = 2;
		}else{
			draw({animation: false});
			renew = 1;
		};

	}
  		
    </script>
   
    </body>

</html>
